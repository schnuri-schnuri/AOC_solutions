input = """..........#....#..........#......#.......................#...#..........................................#.........................
...................#.........#......#.....#.......................#......................#...#....................................
...........#..#....................................................#..........................#................#......#...........
.....#.#...........................................................................#..........#................#..................
...#..........................................#...........................#....................#..#.........#.....................
...........#.#...#..........#...............#..................#.............#...................................#............#...
......................................................................................................................#..#......#.
....................#..........#.........#.....#.......#....#........................................#..#..........#...........#..
....................#......#...................................................#............................................#.....
..................................................#.........................#...........................#...............#.........
#....#....#..................#.........#..#...................#.........#....#.....#.#........................................#...
...........................................#..............................................................#.......................
#...............................................................................................#...............#...........##....
...#......#.............#...............#.....#........................................#.#........#...........#...#...............
#........#......#............................#.......................#............#...........................#...................
............#................................................#....................................................#...............
.......#.................#......................#.....................#..........#................................................
.......................................................................................#.....#......#.............................
...........................#..#....#.......................#.............................................#...#......#.............
........#........##...#.....................................................#...........................................#.#.......
...............................#.........#......................#...........#..........#.....#...........#.#.................#....
..#.#.............#................................................................................#..................#...........
.....................#.................#............................................#...................#...................#.#.#.
........#...........................................................................................#............##...............
........................................................#........................................................##...............
..#........#.................#...............#......#..........................................#................#.................
..................#......#.............................#.............................#.....................#...#........#........#
....................................#.#.........#..#...............#...............#..............................................
...##..................................................................#....#..............#.#...............................#....
...........#....#...#........#..............................................#.......#.............................................
.................................#.............................#...................................................#..............
..........#.............................#.....#...............#..........................................##...............#.......
...........................................#......##...............#..............#.............................#...#............#
.#.#.....................#........#........................................................#..........#.........#.................
.............#.......................................##..........#.#..........................................................#...
.............#....................................................................................................................
..................##.....#......#........................#......................#........#........................................
.........................................................................................#.....#............#....................#
.#...........#....................................#.#.....................................................#......#...#............
#.#...#....................................................................................#............................##.......#
...#...............#................#...#...#.......................#................................#.#....#.....................
................................#........................................#...................#....................................
...#..#.........#......#......................#..#.....................#..........................................................
.................................................................#.......#........................................#...............
..................................##.......................##........................................#............................
....#....#.............#........................................................#....#.......#....................#..............#
.........##.............................................................#..#.#.....#...........##.................................
....#.........................................#......#.......................#....#..............................#...........#....
.##.....#...........................#........#...................................................#....#...........................
...........................................................#.....#.#...................#......................#......#............
....#............#......................................................#.......#............................................#....
#.......................#..........#.#............................#........#..................................................#...
#....................#.....#......................................................#....................................#.....#....
...#.....#.....#.................#...........#...............................................#....................................
...........................#..........................#............#............#...........................................#.....
.......#.....#..........#........#...................................................................................#........#...
#.....................................#......................................#.............................#......#...............
#.....#....................#.........................................................#................#...........................
.........................................................#....#............#..##.....................#............................
...#..............#.................................#.......#...................................................................#.
............................#........#...........#.......................#.......................#..........#..........#..........
....#..............#.............................................................................#.........#.....#...........#....
..........#................#.........................................#.#..#......................................#...#............
............#...............................................................................................#.#.......#......#..#.
.#................................#...............#.........................#............................................#........
....................................................#.......................#........#........................#.................#.
..###...............#...............#..........................................#.............#...............#..#.#...............
..#...#.......................................#...................................................................#...#...........
..........#..........#..#......#.............................................#......#..................#...................#.....#
.......#.....#.......#.......#.....................................................................................#..........#.#.
#........................#..#......................................................#......#...........#................##.........
....#.....................#...........................................................................#...........................
.......................#..........................#.............................................................................#.
.........#..............#...................#................#.........................#..........#...............................
.........#...........................................................#................................................#......#....
.................#.....#................#.............................................................#...................#......#
....................#.....................................................#...................................................#...
............##.................#...................#................#.......................................................#.....
.........................#............#.#..........................................................................#........#.....
............#.........#........................#..............................................##....#.......................#.....
......#...................................................#..##................^......#...#.......................................
............#.....................................................#..............#.##.....#...............................##......
....................#...................#......#......#......................................................#.....#...#..........
..........................................................................#....#..........#........#..............................
.#.................................................#..............................................................................
.......................#.............................................................#.....#..................#.................#.
...#...............#.#................................#..............................#.....#..#.....#..........#...............#..
...........................................#.............#................................................................#.......
#..............#................................................................................................................#.
..................................#.#................##..............#......#..................#......................#...........
..........#...................................#..................................................#................#............#..
....#.....................#......................#.....#.........#........#................#....#.................................
................................................#......................#.....#....................................................
......#.....#.........................#..........................................................................................#
............................................#..............#.................................#......................#.............
...#......#................................#...............#................................................#.....#...............
#...............#.........................#.#..........................................................#......................#...
..#........#......................#.........#............#...###.........#....................................................#...
............#.....................#........................................#..............#.........#........#....................
...#....#...........................................#.................#...............#.........................#.................
......#........................#..................................................................................................
...#..........................................#....................................................#...........#....##.#.........#
....................#..........................#....#..#...........................................................#..............
.....#...........#.........................#...............#..........................................#..#.#.....................#
................#.......#......#.............................................................#...#................................
...........#....#........##.....................#.....#.....#.....#.........................................................#.....
.#.#.........................#...#......#................................#.......##......#..........#...#..........##.............
...................#...................#......#............................................#...........#.......................#..
..............#.#.................................#.....................................................................#.........
......#............#...................................##....................................#...................#.#..............
......................#.............................#....................................................#...............#........
..........................#.......................................................................#.......##...#..................
...................................................#..............#...#.............#.................#..........#.#....#.........
...#......#....................#..................................................................#...............#......#........
....#......#.#.........#..#..#......#.....................................................#.................#.....#...............
......#..........#............#..............#.......#..................................#.........................................
.##.#.........................#..#.............#..........#.........................................................#.............
.....#..#......................##...........#........................#..#.............................................#...........
.....#...............................#................#...........................................................................
.##....#...................#............#....................................#..............##.............#................##....
....................#......##..............................#...#.................#...............##...#............#..............
.................#...........................#.....................................#.#........#...........#.........#....##.......
......#.............................##....................#......................................................................#
...........#........##...#......#...........#................#.....................................................#..............
......#.#.................................#...........................................................#...#......#........#.#....#
...........#......#....#...............#.......#................#.....................#...........................................
....#......#............................##.#...............##.#..........#.........#........#.................................#...
.#............................#................................#.#..............................................#.....#........#..
.#.#.......#.......#.....................................................................#..............#.................##......
.....#.......................................#.......#........#..............#.........#................#...#...#................."""

# input = """....#.....
# .........#
# ..........
# ..#.......
# .......#..
# ..........
# .#..^.....
# ........#.
# #.........
# ......#..."""

a = input.split("\n")
b = [list(x) for x in a]
print(len(b))

for i, line in enumerate(b):
    for j, line in enumerate(b[i]):
        if(b[i][j] == "^"):
            start_pos = (i,j)
            break;

def rotate_right(direction):
    if direction == (0,1):
        return (1,0)
    elif direction == (1,0):
        return (0,-1)
    elif direction == (0,-1):
        return (-1,0)
    elif direction == (-1,0):
        return (0,1)
    else:
        print("error")

def walk(start_pos, obstruction):
    pos = start_pos
    print(obstruction)
    dir = (-1,0)
    dir_list = [[0 for _ in range(len(b[0]))] for _ in range(len(b))]
    counter = [[0 for _ in range(len(b[0]))] for _ in range(len(b))]
    while(True):

        if dir_list[pos[0]][pos[1]] == dir:
            return True
        
        if counter[pos[0]][pos[1]] > 4:
            return True
        


        # print(dir_list)
        dir_list[pos[0]][pos[1]] = dir
        counter[pos[0]][pos[1]] += 1
        # print(dir_list)

        new_pos = tuple(map(lambda x, y: x + y, pos, dir))
        if new_pos[0] >= 0 and new_pos[0] < len(b) and new_pos[1] >= 0 and new_pos[1] < len(b[0]):
            if b[new_pos[0]][new_pos[1]] == "#" or new_pos == obstruction:
                dir = rotate_right(dir)
            else:
                # b[pos[0]][pos[1]] = "X"
                pos = new_pos
        else:
            # b[pos[0]][pos[1]] = "X"
            break
    return False

count = 0

for i in range(len(b)):
    for j in range(len(b[0])):
        if (i,j) != start_pos:
            if walk(start_pos,(i,j)):
                count += 1

# walk(start_pos, (6,78))

print(count)




# c = ["".join(x) for x in b]
# d = "\n".join(c)


# print(d)
# print(d.count("X"))
